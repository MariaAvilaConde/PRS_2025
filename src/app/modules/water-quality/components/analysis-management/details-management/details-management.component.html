<div class="p-6 bg-white rounded-2xl shadow-md border border-gray-200 w-full max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold text-gray-800 mb-4">Detalles del Análisis de Agua</h2>

  <!-- Información General -->
  <div class="grid grid-cols-2 gap-4 text-gray-700">
    <div>
      <p><strong>Código de Análisis:</strong> {{ test.testCode }}</p>
      <p><strong>Tipo de Prueba:</strong> {{ test.testType }}</p>
      <p><strong>Condiciones Climáticas:</strong> {{ test.weatherConditions }}</p>
      <p><strong>Temperatura del Agua:</strong> {{ test.waterTemperature }} °C</p>
    </div>

    <div>
      <p><strong>Fecha de Prueba:</strong> {{ formatDate(test.testDate) }}</p>
      <p><strong>Estado:</strong>
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"
              [ngClass]="getStatusBadgeClass(test.status)">
          {{ test.status }}
        </span>
      </p>
      <p><strong>Creado en:</strong> {{ formatDate(test.createdAt) }}</p>
    </div>
  </div>

  <!-- Observaciones generales -->
  <div class="mt-4">
    <p><strong>Observaciones Generales:</strong></p>
    <p class="italic text-gray-600">{{ test.generalObservations || 'Sin observaciones' }}</p>
  </div>

  <!-- Resultados -->
  <div class="mt-6">
    <h3 class="text-lg font-semibold text-gray-800 mb-2">Resultados</h3>
    <table class="min-w-full border border-gray-300 rounded-lg overflow-hidden">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="py-2 px-4 text-left">Parámetro</th>
          <th class="py-2 px-4 text-left">Valor Medido</th>
          <th class="py-2 px-4 text-left">Unidad</th>
          <th class="py-2 px-4 text-left">Estado</th>
          <th class="py-2 px-4 text-left">Observaciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let result of test.results" class="border-t">
          <td class="py-2 px-4">{{ result.parameterCode }}</td>
          <td class="py-2 px-4">{{ result.measuredValue }}</td>
          <td class="py-2 px-4">{{ result.unit }}</td>
          <td class="py-2 px-4">
            <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"
                  [ngClass]="getStatusBadgeClass(result.status)">
              {{ result.status }}
            </span>
          </td>
          <td class="py-2 px-4 italic text-gray-600">
            {{ result.observations || 'Sin observaciones' }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
